<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for montage_new</title><link rel="stylesheet" href="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">montage_new (2 calls, 1.616 sec)</span><br/><i>Generated 14-Apr-2014 13:20:21 using cpu time.</i><br/>function in file /home/mihai/Downloads/cpmc_release1/external_code/montage_new.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file304.html">subplot_auto_transparent</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">2</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line173">173</a></td><td class="td-linebottomrt"><pre>duh(b) = subplot('Position', [...</pre></td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.418 s</td><td class="td-linebottomrt" class="td-linebottomrt">25.9%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=26 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line180">180</a></td><td class="td-linebottomrt"><pre>state.h(a,b) = imagesc(A, lims...</pre></td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.317 s</td><td class="td-linebottomrt" class="td-linebottomrt">19.6%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=20 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line130">130</a></td><td class="td-linebottomrt"><pre>fig = gcf;</pre></td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.253 s</td><td class="td-linebottomrt" class="td-linebottomrt">15.6%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=16 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line131">131</a></td><td class="td-linebottomrt"><pre>clf(fig);</pre></td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.195 s</td><td class="td-linebottomrt" class="td-linebottomrt">12.1%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=12 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line181">181</a></td><td class="td-linebottomrt"><pre>axis image off;</pre></td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.188 s</td><td class="td-linebottomrt" class="td-linebottomrt">11.6%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=12 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.245 s</td><td class="td-linebottomrt">15.2%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.616 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file323.html">subplot</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.382 s</td><td class="td-linebottomrt">23.7%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=24 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file328.html">imagesc</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.296 s</td><td class="td-linebottomrt">18.3%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=18 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file329.html">axis</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.166 s</td><td class="td-linebottomrt">10.3%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=10 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file318.html">clf</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.108 s</td><td class="td-linebottomrt">6.7%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file152.html">title</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">20</td><td class="td-linebottomrt">0.043 s</td><td class="td-linebottomrt">2.7%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file322.html">colormap</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.007 s</td><td class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file309.html">montage_new>default_limits</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.007 s</td><td class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file312.html">datamanager.schema</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file311.html">montage_new>choose_layout</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file306.html">montage_new>parse_inputs</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.606 s</td><td class="td-linebottomrt">37.5%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=38 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.616 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line75">75</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line75">75</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line75">75</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line75">75</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line87">87</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line87">87</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line87">87</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line106">106</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line106">106</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'c' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line106">106</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line173">173</a></td><td class="td-linebottomrt"><span class="mono">The variable 'duh' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">204</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">106</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">98</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">62</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">36</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">63.27 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function montage_new(I, titles, varargin)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%MONTAGE  Display multiple images as a montage of subplots</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">% Changed by Joao Carreira to be able to include titles (cell array of</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">% strings)</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">% Examples:</span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   montage</span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%   montage(I)</span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   montage(I, map)</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%   montage(..., param1, value1, param2, value2, ...)</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">% This function displays multiple images, in a stack or cell array or</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">% defined by filenames in a cell array or simply in the current directory,</span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">% in a grid of subplots in the current figure.</span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">% The size of grid is calculated or user defined. Images not fitting in the</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">% grid can be scrolled through using the scroll keys. This allows fast</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">% scrolling through a movie or image stack, e.g.</span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%    montage(imstack, 'Size', 1)</span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">% creates a single frame montage with images scrolled through using arrow</span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">% keys.</span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">% This function is designed to replace the MONTAGE function provided with</span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">% the Image Processing Toolbox (IPT). It is syntax compatible, but operates</span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">% differently, and while results are generally comparable given identical</span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">% syntaxes, this is not guaranteed.</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">% Differences from the IPT version are:</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%    - The IPT is not required!</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%    - Images are placed in subplots, so can be zoomed separately.</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%    - Small images are properly enlarged on screen.</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%    - Gaps can be placed between images.</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%    - Images can be viewed on a grid smaller than the number of images.</span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%    - Surplus images can be viewed by scrolling through pages.</span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%    - A directory of images can be viewed easily.</span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%    - It cannot return an image handle (as there are multiple images)</span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">% Keys:</span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%    Up - Back a row.</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%    Down - Forward a row.</span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%    Left - Back a page (or column if there is only one row).</span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%    Right - Forward a page (or column if there is only one row).</span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%    Shift - 2 x speed.</span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%    Ctrl - 4 x speed.</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%    Shift + Ctrl - 8 x speed.</span><br/>               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">% IN:</span><br/>               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%   I - MxNxCxP array of images, or 1xP cell array. C is 1 for indexed</span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%       images or 3 for RGB images. P is the number of images. If I is a</span><br/>               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%       cell array then each cell must contain an image or image filename.</span><br/>               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%       If I is empty then all the images in the current directory are</span><br/>               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%       used. Default: [].</span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%   map - Kx3 colormap to be used with indexed images. Default: gray(256).</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%   Optional parameters - name, value parameter pairs for the following:</span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%      'Size' - [H W] size of grid to display image on. If only H is given</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%               then W = H. If either H or W is NaN then the number of rows</span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%               or columns is chosen such that all images fit. If both H</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%               and W are NaN or the array is empty then the size of grid</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%               is chosen to fit all images in as large as possible.</span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%               Default: [].</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%      'Indices' - 1xL list of indices of images to display. Default: 1:P.</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%      'Border' - [B R] borders to give each image top and bottom (B) and</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%                 left and right (R), to space out images. Borders are</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%                 normalized to the subplot size, i.e. B = 0.01 gives a border</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%                 1% of the height of each subplot. If only B is given, R =</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%                 B. Default: 0.01.</span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">%      'DisplayRange' - [LOW HIGH] display range for indexed images.</span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%                       Default: [min(I(:)) max(I(:))].</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%      'Map' - Kx3 colormap or (additionally from above) name of MATLAB</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;">%              colormap, for use with indexed images. Default: gray(256).</span><br/>               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">% $Id: montage.m,v 1.7 2009/02/25 16:39:01 ojw Exp $</span><br/>               <span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;">% Parse inputs</span><br/><a name="Line75"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">  75</span> <span style="color: #000000; background: #FFFFFF;">[map layout gap indices lims] = <a href="file306.html">parse_inputs</a>(varargin); </span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">  77</span> <span style="color: #000000; background: #FFFFFF;">if nargin == 0 || isempty(I) </span><br/>               <span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">    % Read in all the images in the directory</span><br/>               <span style="color: #A0A0A0">  79</span> <span style="color: #A0A0A0; background: #FFFFFF;">    I = get_im_names;</span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if isempty(I)</span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">        % No images found</span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #A0A0A0; background: #FFFFFF;">        return</span><br/>               <span style="color: #A0A0A0">  83</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">  86</span> <span style="color: #000000; background: #FFFFFF;">if isnumeric(I) </span><br/><a name="Line87"></a>               <span style="color: #A0A0A0">  87</span> <span style="color: #A0A0A0; background: #FFFFFF;">    [y x c n] = size(I);</span><br/>               <span style="color: #A0A0A0">  88</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if isempty(lims)</span><br/>               <span style="color: #A0A0A0">  89</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lims = [min(reshape(I, numel(I), 1)) max(reshape(I, numel(I), 1))];</span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #A0A0A0; background: #FFFFFF;">    elseif isequal(0, lims)</span><br/>               <span style="color: #A0A0A0">  91</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lims = default_limits(I);</span><br/>               <span style="color: #A0A0A0">  92</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  93</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if isfloat(I) &amp;&amp; c == 3</span><br/>               <span style="color: #A0A0A0">  94</span> <span style="color: #A0A0A0; background: #FFFFFF;">        I = uint8(I * 256 - 0.5);</span><br/>               <span style="color: #A0A0A0">  95</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lims = round(lims * 256 - 0.5);</span><br/>               <span style="color: #A0A0A0">  96</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  97</span> <span style="color: #A0A0A0; background: #FFFFFF;">    I = squeeze(num2cell(I, [1 2 3]));</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">  98</span> <span style="color: #000000; background: #FFFFFF;">elseif iscell(I) </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">  99</span> <span style="color: #000000; background: #FFFFFF;">    A = I{1}; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 100</span> <span style="color: #000000; background: #FFFFFF;">    if ischar(A) </span><br/>               <span style="color: #A0A0A0"> 101</span> <span style="color: #A0A0A0; background: #FFFFFF;">        A = imread_rgb(A);</span><br/>               <span style="color: #A0A0A0"> 102</span> <span style="color: #A0A0A0; background: #FFFFFF;">        I{1} = A;</span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 104</span> <span style="color: #000000; background: #FFFFFF;">    n = numel(I); </span><br/>               <span style="color: #A0A0A0"> 105</span> <span style="color: #228B22; background: #FFFFFF;">    % Assume all images are the same size and type as the first</span><br/><a name="Line106"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 106</span> <span style="color: #000000; background: #FFFFFF;">    [y x c] = size(A); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 107</span> <span style="color: #000000; background: #FFFFFF;">    if isempty(lims) || isequal(0, lims) </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 108</span> <span style="color: #000000; background: #FFFFFF;">        lims = <a href="file309.html">default_limits</a>(A); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 109</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>               <span style="color: #A0A0A0"> 110</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 111</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('I not of recognized type.');</span><br/>               <span style="color: #A0A0A0"> 112</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 113</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 114</span> <span style="color: #228B22; background: #FFFFFF;">% Select indexed images</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 115</span> <span style="color: #000000; background: #FFFFFF;">if ~isequal(indices, -1) </span><br/>               <span style="color: #A0A0A0"> 116</span> <span style="color: #A0A0A0; background: #FFFFFF;">    I = I(indices);</span><br/>               <span style="color: #A0A0A0"> 117</span> <span style="color: #A0A0A0; background: #FFFFFF;">    n = numel(I);</span><br/>               <span style="color: #A0A0A0"> 118</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 119</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 120</span> <span style="color: #228B22; background: #FFFFFF;">% Compute a good layout</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 121</span> <span style="color: #000000; background: #FFFFFF;">layout = <a href="file311.html">choose_layout</a>(n, y, x, layout); </span><br/>               <span style="color: #A0A0A0"> 122</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #228B22; background: #FFFFFF;">% Create a data structure to store the data in</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 124</span> <span style="color: #000000; background: #FFFFFF;">num = prod(layout); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 125</span> <span style="color: #000000; background: #FFFFFF;">state.n = num * ceil(n / num); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 126</span> <span style="color: #000000; background: #FFFFFF;">state.h = zeros(layout); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 127</span> <span style="color: #000000; background: #FFFFFF;">I = [I(:); cell(state.n-n, 1)]; </span><br/>               <span style="color: #A0A0A0"> 128</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 129</span> <span style="color: #228B22; background: #FFFFFF;">% Get and clear the figure</span><br/><span style="color: #FF0000">  0.25 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 130</span> <a name="Line130"></a><span style="color: #000000; background: #FFAAAA;">fig = gcf; </span><br/><span style="color: #FF0000">  0.19 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 131</span> <a name="Line131"></a><span style="color: #000000; background: #FFC6C6;"><a href="file318.html">clf</a>(fig); </span><br/>               <span style="color: #A0A0A0"> 132</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 133</span> <span style="color: #228B22; background: #FFFFFF;">% Set the figure size well</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 134</span> <span style="color: #000000; background: #FFFFFF;">MonSz = get(0, 'ScreenSize'); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 135</span> <span style="color: #000000; background: #FFFFFF;">MaxSz = MonSz(3:4) - [20 120]; </span><br/>               <span style="color: #A0A0A0"> 136</span> <span style="color: #228B22; background: #FFFFFF;">%MaxSz = MonSz(3:4) + 10*[20 120];</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 137</span> <span style="color: #000000; background: #FFFFFF;">ImSz = layout([2 1]) .* [x y] ./ (1 - 2 * gap([end 1])); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 138</span> <span style="color: #000000; background: #FFFFFF;">RescaleFactor = min(MaxSz ./ ImSz); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 139</span> <span style="color: #000000; background: #FFFFFF;">if RescaleFactor &gt; 1 </span><br/>               <span style="color: #A0A0A0"> 140</span> <span style="color: #228B22; background: #FFFFFF;">    % Integer scale for enlarging, but don't make too big</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 141</span> <span style="color: #000000; background: #FFFFFF;">    MaxSz = min(MaxSz, [1000 680]); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 142</span> <span style="color: #000000; background: #FFFFFF;">    RescaleFactor = max(floor(min(MaxSz ./ ImSz)), 1); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 143</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 144</span> <span style="color: #000000; background: #FFFFFF;">figPosNew = ceil(ImSz * RescaleFactor); </span><br/>               <span style="color: #A0A0A0"> 145</span> <span style="color: #228B22; background: #FFFFFF;">% Don't move the figure if the size isn't changing</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 146</span> <span style="color: #000000; background: #FFFFFF;">figPosCur = get(fig, 'Position'); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 147</span> <span style="color: #000000; background: #FFFFFF;">if ~isequal(figPosCur(3:4), figPosNew) </span><br/>               <span style="color: #A0A0A0"> 148</span> <span style="color: #228B22; background: #FFFFFF;">    % Keep the centre of the figure stationary</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 149</span> <span style="color: #000000; background: #FFFFFF;">    figPosNew = [max(1, floor(figPosCur(1:2)+(figPosCur(3:4)-figPosNew)/2)) figPosNew]; </span><br/>               <span style="color: #A0A0A0"> 150</span> <span style="color: #228B22; background: #FFFFFF;">    % Ensure the figure bar is in bounds</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 151</span> <span style="color: #000000; background: #FFFFFF;">    figPosNew(1:2) = min(figPosNew(1:2), MonSz(1:2)+MonSz(3:4)-[6 101]-figPosNew(3:4)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 152</span> <span style="color: #000000; background: #FFFFFF;">    set(fig, 'Position', figPosNew); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 153</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 154</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 155</span> <span style="color: #228B22; background: #FFFFFF;">% Set the colourmap</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 156</span> <span style="color: #000000; background: #FFFFFF;"><a href="file322.html">colormap</a>(map); </span><br/>               <span style="color: #A0A0A0"> 157</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 158</span> <span style="color: #228B22; background: #FFFFFF;">% Set the first lot of images</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 159</span> <span style="color: #000000; background: #FFFFFF;">index = mod(0:num-1, state.n) + 1; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #000000; background: #FFFFFF;">hw = 1 ./ layout; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 161</span> <span style="color: #000000; background: #FFFFFF;">gap = gap ./ layout; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 162</span> <span style="color: #000000; background: #FFFFFF;">dims = hw - 2 * gap; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 163</span> <span style="color: #000000; background: #FFFFFF;">dims = dims([2 1]); </span><br/>               <span style="color: #A0A0A0"> 164</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 165</span> <span style="color: #000000; background: #FFFFFF;">for a = 1:layout(1) </span><br/>       <span style="color: #0000FF">      4 </span><span style="color: #000000; font-weight: bold"> 166</span> <span style="color: #000000; background: #FFFFFF;">    for b = 1:layout(2) </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 167</span> <span style="color: #000000; background: #FFFFFF;">        c = index(b + (layout(1) - a) * layout(2)); </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 168</span> <span style="color: #000000; background: #FFFFFF;">        A = I{c}; </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 169</span> <span style="color: #000000; background: #FFFFFF;">        if ischar(A) </span><br/>               <span style="color: #A0A0A0"> 170</span> <span style="color: #A0A0A0; background: #FFFFFF;">            A = imread_rgb(A);</span><br/>               <span style="color: #A0A0A0"> 171</span> <span style="color: #A0A0A0; background: #FFFFFF;">            I{c} = A;</span><br/>               <span style="color: #A0A0A0"> 172</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/><a name="Line173"></a><span style="color: #FF0000">  0.42 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 173</span> <a name="Line173"></a><span style="color: #000000; background: #FF8080;">        duh(b) = <a href="file323.html">subplot</a>('Position', [(b-1)*hw(2)+gap(2) (a-1)*hw(1)+gap(1) dims]); </span><br/>               <span style="color: #A0A0A0"> 174</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 175</span> <span style="color: #000000; background: #FFFFFF;">        if isempty(A) </span><br/>               <span style="color: #A0A0A0"> 176</span> <span style="color: #A0A0A0; background: #FFFFFF;">            state.h(a,b) = imagesc(zeros(1, 1, 3), lims);</span><br/>               <span style="color: #A0A0A0"> 177</span> <span style="color: #A0A0A0; background: #FFFFFF;">            axis image off;</span><br/>               <span style="color: #A0A0A0"> 178</span> <span style="color: #A0A0A0; background: #FFFFFF;">            set(state.h(a,b), 'CData', []);</span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 179</span> <span style="color: #228B22; background: #FFFFFF;">        else </span><br/><span style="color: #FF0000">  0.32 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 180</span> <a name="Line180"></a><span style="color: #000000; background: #FF9C9C;">            state.h(a,b) = <a href="file328.html">imagesc</a>(A, lims); </span><br/><span style="color: #FF0000">  0.19 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 181</span> <a name="Line181"></a><span style="color: #000000; background: #FFC6C6;">            <a href="file329.html">axis</a> image off; </span><br/>               <span style="color: #A0A0A0"> 182</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 183</span> <span style="color: #000000; background: #FFFFFF;">            if(nargin&gt;=2 &amp;&amp; ~isempty(titles)) </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 184</span> <span style="color: #000000; background: #FFF0F0;">              <a href="file152.html">title</a>(titles{c}, 'FontSize', 15); </span><br/>               <span style="color: #A0A0A0"> 185</span> <span style="color: #228B22; background: #FFFFFF;">              </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 186</span> <span style="color: #000000; background: #FFFFFF;">              set(get(duh(b), 'Title'), 'VerticalAlignment', 'baseline'); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 187</span> <span style="color: #000000; background: #FFFFFF;">              set(get(duh(b), 'XLabel'), 'VerticalAlignment', 'baseline');               </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 188</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 189</span> <span style="color: #000000; background: #FFFFFF;">        end </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold"> 190</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>       <span style="color: #0000FF">      4 </span><span style="color: #000000; font-weight: bold"> 191</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/><span style="color: #FF0000">  0.12 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 192</span> <span style="color: #000000; background: #FFE2E2;">drawnow; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 193</span> <span style="color: #000000; background: #FFFFFF;">figure(fig); % Bring the montage into view </span><br/>               <span style="color: #A0A0A0"> 194</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 195</span> <span style="color: #228B22; background: #FFFFFF;">% Check if we need to be able to scroll through images</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 196</span> <span style="color: #000000; background: #FFFFFF;">if n &gt; num </span><br/>               <span style="color: #A0A0A0"> 197</span> <span style="color: #228B22; background: #FFFFFF;">    % Intialize rest of data structure</span><br/>               <span style="color: #A0A0A0"> 198</span> <span style="color: #A0A0A0; background: #FFFFFF;">    state.index = 1;</span><br/>               <span style="color: #A0A0A0"> 199</span> <span style="color: #A0A0A0; background: #FFFFFF;">    state.layout = layout;</span><br/>               <span style="color: #A0A0A0"> 200</span> <span style="color: #A0A0A0; background: #FFFFFF;">    state.I = I;</span><br/>               <span style="color: #A0A0A0"> 201</span> <span style="color: #228B22; background: #FFFFFF;">    % Set the callback for image navigation, and save the image data in the figure</span><br/>               <span style="color: #A0A0A0"> 202</span> <span style="color: #A0A0A0; background: #FFFFFF;">    set(fig, 'KeyPressFcn', @keypress_callback, 'Interruptible', 'off', 'UserData', state);</span><br/>               <span style="color: #A0A0A0"> 203</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold"> 204</span> <span style="color: #000000; background: #FFFFFF;">return </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>