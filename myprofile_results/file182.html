<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for bwmorph</title><link rel="stylesheet" href="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">bwmorph (922 calls, 5.057 sec)</span><br/><i>Generated 14-Apr-2014 13:19:37 using cpu time.</i><br/>function in file /home/mihai/MATLAB/R2013a/toolbox/images/images/bwmorph.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file57.html">SvmSegm_extract_segments_nosave</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">861</td></tr><tr><td class="td-linebottomrt"><a href="file279.html">bwperim</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">61</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line133">133</a></td><td class="td-linebottomrt"><pre>[bw, lut] = images.internal.al...</pre></td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">4.603 s</td><td class="td-linebottomrt" class="td-linebottomrt">91.0%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=91 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line128">128</a></td><td class="td-linebottomrt"><pre>op = validatestring(op,validOp...</pre></td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">0.303 s</td><td class="td-linebottomrt" class="td-linebottomrt">6.0%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line91">91</a></td><td class="td-linebottomrt"><pre>validateattributes(bwin,{'nume...</pre></td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">0.036 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.7%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line94">94</a></td><td class="td-linebottomrt"><pre>if ~islogical(bwin)</pre></td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">0.029 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.6%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line104">104</a></td><td class="td-linebottomrt"><pre>validOperations = {'bothat',.....</pre></td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">0.022 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.065 s</td><td class="td-linebottomrt">1.3%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">5.057 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file281.html">algbwmorph</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">4.560 s</td><td class="td-linebottomrt">90.2%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=90 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file180.html">validatestring</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">922</td><td class="td-linebottomrt">0.281 s</td><td class="td-linebottomrt">5.6%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.216 s</td><td class="td-linebottomrt">4.3%</td><td class="td-linebottomrt"><img src="file:////home/mihai/MATLAB/R2013a/toolbox/matlab/codetools/private/one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">5.057 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line150">150</a></td><td class="td-linebottomrt"><span class="mono">APPLYLUT is not recommended. Use BWLOOKUP instead.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">169</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">131</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">38</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">16</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">22</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">42.11 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [bwout,lut] = bwmorph(bwin,op,n)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%BWMORPH Morphological operations on binary image.</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   BW2 = BWMORPH(BW1,OPERATION) applies a specific</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   morphological operation to the binary image BW1.</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%   BW2 = BWMORPH(BW1,OPERATION,N) applies the operation N</span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   times.  N can be Inf, in which case the operation is repeated</span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%   until the image no longer changes.</span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%   OPERATION is a string that can have one of these values:</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%      'bothat'       Subtract the input image from its closing</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%      'branchpoints' Find branch points of skeleton</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%      'bridge'       Bridge previously unconnected pixels</span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%      'clean'        Remove isolated pixels (1's surrounded by 0's)</span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%      'close'        Perform binary closure (dilation followed by</span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%                       erosion)</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%      'diag'         Diagonal fill to eliminate 8-connectivity of</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%                       background</span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%      'dilate'       Perform dilation using the structuring element</span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%                       ones(3)</span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%      'endpoints'    Find end points of skeleton</span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%      'erode'        Perform erosion using the structuring element</span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%                       ones(3)</span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%      'fill'         Fill isolated interior pixels (0's surrounded by</span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%                       1's)</span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%      'hbreak'       Remove H-connected pixels</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%      'majority'     Set a pixel to 1 if five or more pixels in its</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%                       3-by-3 neighborhood are 1's</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%      'open'         Perform binary opening (erosion followed by</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%                       dilation)</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%      'remove'       Set a pixel to 0 if its 4-connected neighbors</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%                       are all 1's, thus leaving only boundary</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%                       pixels</span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%      'shrink'       With N = Inf, shrink objects to points; shrink</span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%                       objects with holes to connected rings</span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%      'skel'         With N = Inf, remove pixels on the boundaries</span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%                       of objects without allowing objects to break</span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%                       apart</span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%      'spur'         Remove end points of lines without removing</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%                       small objects completely</span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%      'thicken'      With N = Inf, thicken objects by adding pixels</span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%                       to the exterior of objects without connected</span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%                       previously unconnected objects</span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%      'thin'         With N = Inf, remove pixels so that an object</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%                       without holes shrinks to a minimally</span><br/>               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%                       connected stroke, and an object with holes</span><br/>               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%                       shrinks to a ring halfway between the hole</span><br/>               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%                       and outer boundary</span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%      'tophat'       Subtract the opening from the input image</span><br/>               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%   Class Support</span><br/>               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%   -------------</span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%   The input image BW1 can be numeric or logical.</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%   It must be 2-D, real and nonsparse.  The output image</span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%   BW2 is logical.</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%   Examples</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%   --------</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%       BW1 = imread('circles.png');</span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(BW1)</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%       BW2 = bwmorph(BW1,'remove');</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%       BW3 = bwmorph(BW1,'skel',Inf);</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(BW2)</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(BW3)</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%   See also ERODE, DILATE, BWEULER, BWPERIM.</span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 1993-2012 The MathWorks, Inc.</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%   $Revision: 5.28.4.20 $  $Date: 2012/11/02 14:19:57 $</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;">% The second output argument, LUT, is intentionally undocumented. In the</span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">% initial release of the Image Processing Toolbox, all the operations</span><br/>               <span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">% supported by bwmorph used a single look-up table, which was returned as</span><br/>               <span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;">% the second output argument.  In subsequent releases, however, bug fixes</span><br/>               <span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">% and enhancements resulted in some operations no longer using a single</span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">% look-up table. As a result, the second output argument no longer served</span><br/>               <span style="color: #A0A0A0">  77</span> <span style="color: #228B22; background: #FFFFFF;">% the purpose envisioned in the original design of the bwmorph syntax. To</span><br/>               <span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">% reduce compatibility problems, the second output argument was retained</span><br/>               <span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;">% in the code, but it has been removed from the documentation.  For</span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #228B22; background: #FFFFFF;">% operations which do not use a single look-up table, the second output</span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">% argument is returned as [].</span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">% Input argument parsing</span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  86</span> <span style="color: #000000; background: #FFFFFF;">narginchk(2,3) </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  87</span> <span style="color: #000000; background: #FFFFFF;">if (nargin &lt; 3) </span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  88</span> <span style="color: #000000; background: #FFFFFF;">    n = 1; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  89</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  91</span> <a name="Line91"></a><span style="color: #000000; background: #FFFFFF;">validateattributes(bwin,{'numeric' 'logical'},{'real' 'nonsparse' '2d'}, ... </span><br/>               <span style="color: #A0A0A0">  92</span> <span style="color: #000000; background: #FFFFFF;">    mfilename, 'BW', 1);</span><br/>               <span style="color: #A0A0A0">  93</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  94</span> <a name="Line94"></a><span style="color: #000000; background: #FFFFFF;">if ~islogical(bwin) </span><br/>               <span style="color: #A0A0A0">  95</span> <span style="color: #A0A0A0; background: #FFFFFF;">    bwin = (bwin ~= 0);</span><br/>               <span style="color: #A0A0A0">  96</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">  97</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold">  98</span> <span style="color: #000000; background: #FFFFFF;">if ischar(op), </span><br/>               <span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;">    % BWMORPH(A, 'op', n)</span><br/>               <span style="color: #A0A0A0"> 100</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 101</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/>               <span style="color: #A0A0A0"> 102</span> <span style="color: #228B22; background: #FFFFFF;">    % Find out what operation has been requested</span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 104</span> <a name="Line104"></a><span style="color: #000000; background: #FFFFFF;">    validOperations = {'bothat',... </span><br/>               <span style="color: #A0A0A0"> 105</span> <span style="color: #000000; background: #FFFFFF;">        'branchpoints',...</span><br/>               <span style="color: #A0A0A0"> 106</span> <span style="color: #000000; background: #FFFFFF;">        'bridge',...</span><br/>               <span style="color: #A0A0A0"> 107</span> <span style="color: #000000; background: #FFFFFF;">        'clean',...</span><br/>               <span style="color: #A0A0A0"> 108</span> <span style="color: #000000; background: #FFFFFF;">        'close',...</span><br/>               <span style="color: #A0A0A0"> 109</span> <span style="color: #000000; background: #FFFFFF;">        'diag',...</span><br/>               <span style="color: #A0A0A0"> 110</span> <span style="color: #000000; background: #FFFFFF;">        'dilate',...</span><br/>               <span style="color: #A0A0A0"> 111</span> <span style="color: #000000; background: #FFFFFF;">        'endpoints',...</span><br/>               <span style="color: #A0A0A0"> 112</span> <span style="color: #000000; background: #FFFFFF;">        'erode',...</span><br/>               <span style="color: #A0A0A0"> 113</span> <span style="color: #000000; background: #FFFFFF;">        'fatten',...</span><br/>               <span style="color: #A0A0A0"> 114</span> <span style="color: #000000; background: #FFFFFF;">        'fill',...</span><br/>               <span style="color: #A0A0A0"> 115</span> <span style="color: #000000; background: #FFFFFF;">        'hbreak',...</span><br/>               <span style="color: #A0A0A0"> 116</span> <span style="color: #000000; background: #FFFFFF;">        'majority',...</span><br/>               <span style="color: #A0A0A0"> 117</span> <span style="color: #000000; background: #FFFFFF;">        'perim4',...</span><br/>               <span style="color: #A0A0A0"> 118</span> <span style="color: #000000; background: #FFFFFF;">        'perim8',...</span><br/>               <span style="color: #A0A0A0"> 119</span> <span style="color: #000000; background: #FFFFFF;">        'open',...</span><br/>               <span style="color: #A0A0A0"> 120</span> <span style="color: #000000; background: #FFFFFF;">        'remove',...</span><br/>               <span style="color: #A0A0A0"> 121</span> <span style="color: #000000; background: #FFFFFF;">        'shrink',...</span><br/>               <span style="color: #A0A0A0"> 122</span> <span style="color: #000000; background: #FFFFFF;">        'skeleton',...</span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #000000; background: #FFFFFF;">        'spur',...</span><br/>               <span style="color: #A0A0A0"> 124</span> <span style="color: #000000; background: #FFFFFF;">        'thicken',...</span><br/>               <span style="color: #A0A0A0"> 125</span> <span style="color: #000000; background: #FFFFFF;">        'thin',...</span><br/>               <span style="color: #A0A0A0"> 126</span> <span style="color: #000000; background: #FFFFFF;">        'tophat'};</span><br/>               <span style="color: #A0A0A0"> 127</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/><span style="color: #FF0000">  0.30 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 128</span> <a name="Line128"></a><span style="color: #000000; background: #FFFFFF;">    op = <a href="file180.html">validatestring</a>(op,validOperations, 'bwmorph'); </span><br/>               <span style="color: #A0A0A0"> 129</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/>               <span style="color: #A0A0A0"> 130</span> <span style="color: #228B22; background: #FFFFFF;">    % Call the core function</span><br/>               <span style="color: #A0A0A0"> 131</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/>               <span style="color: #A0A0A0"> 132</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/><span style="color: #FF0000">  4.60 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 133</span> <a name="Line133"></a><span style="color: #000000; background: #FF8080;">    [bw, lut] = images.internal.<a href="file281.html">algbwmorph</a>(bwin,op,n);     </span><br/>               <span style="color: #A0A0A0"> 134</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 135</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 136</span> <span style="color: #228B22; background: #FFFFFF;">    % BWMORPH(A, lut, n)</span><br/>               <span style="color: #A0A0A0"> 137</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 138</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/>               <span style="color: #A0A0A0"> 139</span> <span style="color: #228B22; background: #FFFFFF;">    % Pass on the call to applylut</span><br/>               <span style="color: #A0A0A0"> 140</span> <span style="color: #228B22; background: #FFFFFF;">    %</span><br/>               <span style="color: #A0A0A0"> 141</span> <span style="color: #A0A0A0; background: #FFFFFF;">    lut = op;</span><br/>               <span style="color: #A0A0A0"> 142</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if (isempty(lut))</span><br/>               <span style="color: #A0A0A0"> 143</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error(message('images:bwmorph:emptyLUT'));</span><br/>               <span style="color: #A0A0A0"> 144</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 145</span> <span style="color: #A0A0A0; background: #FFFFFF;">    bw   = bwin;</span><br/>               <span style="color: #A0A0A0"> 146</span> <span style="color: #A0A0A0; background: #FFFFFF;">    done = (n &lt;= 0);</span><br/>               <span style="color: #A0A0A0"> 147</span> <span style="color: #A0A0A0; background: #FFFFFF;">    iter = 1;</span><br/>               <span style="color: #A0A0A0"> 148</span> <span style="color: #A0A0A0; background: #FFFFFF;">    while (~done)</span><br/>               <span style="color: #A0A0A0"> 149</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lastbw = bw;</span><br/><a name="Line150"></a>               <span style="color: #A0A0A0"> 150</span> <span style="color: #A0A0A0; background: #FFFFFF;">        bw     = applylut(bw, lut);</span><br/>               <span style="color: #A0A0A0"> 151</span> <span style="color: #A0A0A0; background: #FFFFFF;">        done   = ((iter &gt;= n) | isequal(lastbw, bw));</span><br/>               <span style="color: #A0A0A0"> 152</span> <span style="color: #A0A0A0; background: #FFFFFF;">        iter   = iter + 1;</span><br/>               <span style="color: #A0A0A0"> 153</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 154</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 155</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/>               <span style="color: #A0A0A0"> 156</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 157</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 158</span> <span style="color: #000000; background: #FFFFFF;">if (nargout == 0) </span><br/>               <span style="color: #A0A0A0"> 159</span> <span style="color: #A0A0A0; background: #FFFFFF;">    imshow(bw);</span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 161</span> <span style="color: #000000; background: #FFFFFF;">    bwout = bw; </span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 162</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 163</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 164</span> <span style="color: #000000; background: #FFFFFF;">if(nargout==2) </span><br/>               <span style="color: #A0A0A0"> 165</span> <span style="color: #A0A0A0; background: #FFFFFF;">    lut = double(lut);</span><br/>               <span style="color: #A0A0A0"> 166</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    922 </span><span style="color: #000000; font-weight: bold"> 167</span> <span style="color: #000000; background: #FFFFFF;">if ((nargout == 2) &amp;&amp; isempty(lut)) </span><br/>               <span style="color: #A0A0A0"> 168</span> <span style="color: #A0A0A0; background: #FFFFFF;">    warning(message('images:bwmorph:lutOutput', op));</span><br/>               <span style="color: #A0A0A0"> 169</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></body></html>